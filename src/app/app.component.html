<nav
  class="navbar bg-light rounded-3 m-3 border-bottom border-4 border-primary shadow"
>
  <div class="container-fluid">
    <a
      class="navbar-brand d-inline-flex align-items-center clickable"
      (click)="reload()"
    >
      <img src="../assets/logo.png" style="height: '60px'" />
      <h1 class="h3">AFDS Dono Cup Leaderboard Generator</h1>
    </a>
    <a
      href="http://gravatar.com/riccardomanzan"
      class="btn btn-secondary me-4"
    >
      <span>By Riccardo Manzan</span>
      <img
        src="https://gravatar.com/avatar/8e0e88a97fba70d752284fd35ae9b7d6"
        class="img-thumbnail me-n4 ms-3 my-n4 rounded-circle border-secondary"
        style="height: '60px'"
      />
    </a>
  </div>
</nav>

<section class="container">
  <div class="card">
    <div class="card-body">
      <div
        *ngIf="isLoading"
        class="align-items-center bottom-0 d-flex end-0 h-100 justify-content-center position-absolute rounded-2 start-0 top-0"
        style="background-color: #0003"
      >
        <div class="spinner-border" role="status">
          <span class="visually-hidden">Loading... </span>
        </div>
      </div>

      <div #begin="ngbCollapse" [ngbCollapse]="step != ENTRYPOINT">
        <h5 class="card-title">Di cosa si tratta?</h5>
        <p class="card-text">
          Questo tool ti permette di calcolare la classifica della coppa dono
          2023 a partire dalle estrazioni in formato xlsx:
        </p>
        <ul>
          <li>Estrazione donazioni effettuate</li>
          <li>Estrazione elenco donatori</li>
          <li>Estrazione iscrizioni coppa dono</li>
        </ul>
        <div class="d-flex">
          <button
            class="btn btn-primary mx-auto"
            type="button"
            (click)="step = LOAD"
          >
            Inizia
          </button>
        </div>
      </div>

      <div #load="ngbCollapse" [ngbCollapse]="step != LOAD">
        <form #loadForm="ngForm">
          <h5 class="card-title">Carica i file richiesti</h5>

          <div class="mb-3">
            <label for="donationsFileInput" class="form-label">
              Estrazione donazioni effettuate
            </label>
            <input type="file" class="form-control" id="donationsFileInput" />
          </div>

          <div class="mb-3">
            <label for="donorsFileInput" class="form-label">
              Estrazione elenco donatori
            </label>

            <input type="file" class="form-control" id="donorsFileInput" />
          </div>

          <div class="mb-3">
            <label for="donoCupSubscribers" class="form-label">
              Estrazione iscrizioni alla coppa dono
            </label>

            <input type="file" class="form-control" id="donoCupSubscribers" />
          </div>

          <div class="d-flex">
            <button
              class="btn btn-primary mx-auto"
              (click)="loadAndGenerate()"
            >
              Genera Leaderboard
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>

<footer class="text-center small mt-auto mb-1">
  <a
    href="https://github.com/RiccardoManzan/afds-dono-cup-leaderboard-generator"
    class="link-dark mt-1"
  >
    Copyright (c) 2023, Riccardo Manzan
  </a>
</footer>
